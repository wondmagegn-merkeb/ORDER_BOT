<% if (typeof success !== 'undefined') { %>
  <div id="toast-success" class="fixed top-20 right-5 z-50 flex items-start gap-4 p-4 rounded-lg shadow-md bg-green-100 border border-green-400 text-green-700 dark:bg-green-900 dark:border-green-700 dark:text-green-100 animate-slide-in transition-opacity duration-300">
    <div>
       <%= success %>
    </div>
    <button onclick="closeToast('toast-success')" class="text-green-700 dark:text-green-100 hover:text-green-900 dark:hover:text-green-300 text-xl font-bold ml-4 leading-none">&times;</button>
  </div>
<% } %>

<% if (typeof error !== 'undefined') { %>
  <div id="toast-error" class="fixed top-20 right-5 z-50 flex items-start gap-4 p-4 rounded-lg shadow-md bg-red-100 border border-red-400 text-red-700 dark:bg-red-900 dark:border-red-700 dark:text-red-100 animate-slide-in transition-opacity duration-300">
    <div>
       <%= error %>
    </div>
    <button onclick="closeToast('toast-error')" class="text-red-700 dark:text-red-100 hover:text-red-900 dark:hover:text-red-300 text-xl font-bold ml-4 leading-none">&times;</button>
  </div>
<% } %>

<script>
  // Auto-hide after 4 seconds (only if the element exists)
  setTimeout(() => {
    if (document.getElementById('toast-success')) closeToast('toast-success');
    if (document.getElementById('toast-error')) closeToast('toast-error');
  }, 4000);

  function closeToast(id) {
    const el = document.getElementById(id);
    if (el) {
      el.classList.add('opacity-0');
      setTimeout(() => el.remove(), 300); // Remove from DOM after fade-out
    }
  }
</script>

<style>
  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-slide-in {
    animation: slide-in 0.4s ease-out;
  }
</style>
