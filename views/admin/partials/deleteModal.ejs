<!-- views/partials/deleteModal.ejs -->
<div id="deleteModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50  z-50">
  <div class="bg-white rounded-lg shadow-lg w-full max-w-md p-6">
    <h2 class="text-xl font-bold mb-4">Confirm Deletion</h2>
    <p class="mb-6">Are you sure you want to delete this item?</p>
    <div class="flex justify-end space-x-4">
      <button id="cancelDelete" class="px-4 py-2 rounded-md bg-gray-300 hover:bg-gray-400">Cancel</button>
      <button id="confirmDelete" class="px-4 py-2 rounded-md bg-red-500 text-white hover:bg-red-600">Delete</button>
    </div>
  </div>
</div>
<!-- views/partials/scripts.ejs -->
<script>
  let targetForm = null;

  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll('.open-delete-modal').forEach(button => {
      button.addEventListener('click', function () {
        const form = this.closest('.delete-form');
        targetForm = form;
        document.getElementById('deleteModal').classList.remove('hidden');
      });
    });

    document.getElementById('cancelDelete').addEventListener('click', () => {
      targetForm = null;
      document.getElementById('deleteModal').classList.add('hidden');
    });

    document.getElementById('confirmDelete').addEventListener('click', () => {
      if (targetForm) {
        const adminId = targetForm.getAttribute('data-id');
        const action = targetForm.getAttribute('data-action');
        targetForm.setAttribute('action', `${action}/${adminId}`);
        targetForm.submit();
      }
    });
  });
</script>
